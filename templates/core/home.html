{% extends 'core/base.html' %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è | Lost & Found{% endblock %}

{% block content %}
<div class="hero">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É Lost & Found!</h2>
    <p>
        –≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –ø–æ–º–æ—â–∏ –≤ –ø–æ–∏—Å–∫–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –≤–µ—â–µ–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞–º.
        –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
    </p>
    
    <div class="stats">
        <div class="stat-card">
            <h3>üéØ –í—Å–µ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤</h3>
            <p class="count">{{ total_items }}</p>
        </div>
        <div class="stat-card">
            <h3>‚úÖ –ù–∞–π–¥–µ–Ω–æ</h3>
            <p class="count">{{ found_count }}</p>
        </div>
        <div class="stat-card">
            <h3>‚ùå –ü–æ—Ç–µ—Ä—è–Ω–æ</h3>
            <p class="count">{{ lost_count }}</p>
        </div>
    </div>
</div>

<div class="recent-items">
    <h3>üì¶ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã:</h3>
    
    {% if recent_items %}
        <div class="items-grid">
            {% for item in recent_items %}
            <div class="item-card {% if item.found %}found{% else %}lost{% endif %}">
                <h4>{{ item.title }}</h4>
                <p>{{ item.description|truncatechars:120 }}</p>
                <div class="item-meta">
                    <span class="status">
                        {% if item.found %}
                            üü¢ –ù–∞–π–¥–µ–Ω–æ
                        {% else %}
                            üî¥ –ü–æ—Ç–µ—Ä—è–Ω–æ
                        {% endif %}
                    </span>
                    <span class="date">{{ item.date_created|date:"d.m.Y" }}</span>
                </div>
                <div class="action-buttons">
                    <a href="{% url 'item_detail' item.id %}" class="btn-api">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    <a href="{% url 'api-item-detail' item.id %}" class="btn-api">API</a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            <a href="{% url 'item_list' %}" class="btn-api" style="padding: 1rem 2rem; font-size: 1.1rem;">
                üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã
            </a>
        </div>
    {% else %}
        <p class="no-items">–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤. <a href="/admin/core/item/add/">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π!</a></p>
    {% endif %}
</div>

<div class="api-info" style="background: white; padding: 2rem; border-radius: 15px; margin-top: 2rem; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
    <h3>üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints:</h3>
    <ul style="list-style: none; margin-top: 1rem;">
        <li><strong>GET</strong> <code>/api/items/</code> - –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã</li>
        <li><strong>POST</strong> <code>/api/items/</code> - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</li>
        <li><strong>GET</strong> <code>/api/items/1/</code> - –ø—Ä–µ–¥–º–µ—Ç –ø–æ ID</li>
        <li><strong>GET</strong> <code>/api/items/found/</code> - —Ç–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ</li>
        <li><strong>GET</strong> <code>/api/items/lost/</code> - —Ç–æ–ª—å–∫–æ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ</li>
    </ul>
</div>
{% endblock %}